<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reçu de Transaction</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <style>
        /* ===========================
           STYLES RESPONSIVE SPÉCIFIQUES AU REÇU
           =========================== */
        
        /* Base */
        * {
            box-sizing: border-box;
        }

        body {
            font-size: 16px;
            line-height: 1.6;
        }

        /* Container principal */
        .receipt-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        @media (max-width: 768px) {
            .receipt-container {
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            .receipt-container {
                padding: 0.5rem;
            }
        }

        /* Barre d'actions */
        .action-bar {
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .action-bar-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        @media (max-width: 640px) {
            .action-bar-content {
                flex-direction: column;
                align-items: stretch;
            }
        }

        /* Boutons d'action */
        .action-buttons {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        @media (max-width: 640px) {
            .action-buttons {
                width: 100%;
                flex-direction: column;
            }
            
            .action-buttons button {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .action-buttons button {
                font-size: 0.875rem;
                padding: 0.625rem 1rem;
            }
        }

        /* Carte du reçu */
        .receipt-card {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            padding: 2rem;
        }

        @media (max-width: 768px) {
            .receipt-card {
                padding: 1.5rem;
                border-radius: 0.375rem;
            }
        }

        @media (max-width: 480px) {
            .receipt-card {
                padding: 1rem;
                border-radius: 0.25rem;
            }
        }

        /* En-tête du reçu */
        .receipt-header {
            border-bottom: 4px solid #10b981;
            padding-bottom: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 1rem;
        }

        @media (max-width: 640px) {
            .receipt-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
                border-bottom-width: 3px;
            }
        }

        .receipt-logo img {
            height: 4rem;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .receipt-logo img {
                height: 3rem;
            }
        }

        .receipt-title {
            font-size: 1.875rem;
            font-weight: bold;
            color: #1f2937;
        }

        @media (max-width: 768px) {
            .receipt-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .receipt-title {
                font-size: 1.25rem;
            }
        }

        .receipt-badge {
            background: #10b981;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
        }

        @media (max-width: 640px) {
            .receipt-badge {
                padding: 0.625rem 1.25rem;
                width: 100%;
                max-width: 250px;
            }
        }

        .receipt-number {
            font-size: 1.5rem;
            font-weight: bold;
        }

        @media (max-width: 480px) {
            .receipt-number {
                font-size: 1.25rem;
            }
        }

        /* Grille d'informations */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .info-grid {
                gap: 1.5rem;
            }
        }

        @media (max-width: 640px) {
            .info-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        .info-section {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .info-row {
            display: flex;
            gap: 0.5rem;
        }

        @media (max-width: 480px) {
            .info-row {
                flex-direction: column;
                gap: 0.25rem;
            }
        }

        .info-label {
            font-weight: 600;
            color: #374151;
            min-width: 8rem;
        }

        @media (max-width: 480px) {
            .info-label {
                min-width: auto;
                font-size: 0.875rem;
            }
        }

        /* Carte montant */
        .amount-card {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .amount-card {
                padding: 1.25rem;
            }
        }

        @media (max-width: 480px) {
            .amount-card {
                padding: 1rem;
            }
        }

        .amount-value {
            font-size: 3rem;
            font-weight: bold;
            color: #059669;
            line-height: 1.2;
        }

        @media (max-width: 768px) {
            .amount-value {
                font-size: 2.25rem;
            }
        }

        @media (max-width: 480px) {
            .amount-value {
                font-size: 1.875rem;
            }
        }

        @media (max-width: 375px) {
            .amount-value {
                font-size: 1.5rem;
            }
        }

        .amount-text {
            color: #065f46;
            margin-top: 0.5rem;
            font-size: 1rem;
        }

        @media (max-width: 480px) {
            .amount-text {
                font-size: 0.875rem;
            }
        }

        /* Section validation */
        .validation-section {
            background: #f9fafb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .validation-section {
                padding: 1.25rem;
            }
        }

        @media (max-width: 480px) {
            .validation-section {
                padding: 1rem;
            }
        }

        /* Signatures */
        .signatures-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 640px) {
            .signatures-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        .signature-box {
            text-align: center;
        }

        .signature-line {
            border-top: 2px solid #9ca3af;
            padding-top: 0.5rem;
            margin-top: 4rem;
        }

        @media (max-width: 480px) {
            .signature-line {
                margin-top: 2.5rem;
            }
        }

        /* Pied de page */
        .receipt-footer {
            border-top: 2px solid #d1d5db;
            padding-top: 1rem;
            margin-top: 1.5rem;
            text-align: center;
            font-size: 0.875rem;
            color: #6b7280;
        }

        @media (max-width: 480px) {
            .receipt-footer {
                font-size: 0.8125rem;
            }
        }

        /* Badge de statut */
        .status-badge {
            display: inline-block;
            padding: 0.375rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        @media (max-width: 480px) {
            .status-badge {
                font-size: 0.8125rem;
                padding: 0.25rem 0.625rem;
            }
        }

        /* Divider */
        .divider {
            border-top: 1px solid #e5e7eb;
            margin: 1.5rem 0;
        }

        @media (max-width: 480px) {
            .divider {
                margin: 1rem 0;
            }
        }

        /* Note importante */
        .info-box {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 0.875rem;
        }

        @media (max-width: 480px) {
            .info-box {
                padding: 0.75rem;
                font-size: 0.8125rem;
                border-left-width: 3px;
            }
        }

        /* Impression */
        @media print {
            .no-print { 
                display: none; 
            }
            
            body { 
                background: white;
                padding: 0;
            }
            
            .receipt-container {
                max-width: 100%;
                padding: 0;
            }
            
            .receipt-card {
                box-shadow: none;
                border: 1px solid #e5e7eb;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .receipt-card {
            animation: fadeIn 0.4s ease-out;
        }

        /* Éviter le zoom sur iOS */
        @media (max-width: 640px) {
            input, select, textarea {
                font-size: 16px;
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Barre d'actions -->
    <div class="action-bar no-print">
        <div class="action-bar-content">
            <a href="./mes_transactions.html" class="text-gray-600 hover:text-green-600 flex items-center transition-colors">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Retour
            </a>
            <div class="action-buttons">
                <button onclick="window.print()" class="bg-green-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-600 transition-all flex items-center shadow-md hover:shadow-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>
                    </svg>
                    Imprimer
                </button>
                <button onclick="downloadPDF()" class="bg-blue-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-600 transition-all flex items-center shadow-md hover:shadow-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    Télécharger PDF
                </button>
            </div>
        </div>
    </div>

    <!-- Container principal -->
    <div class="receipt-container">
        <div class="receipt-card" id="receiptContent">
            <!-- En-tête -->
            <div class="receipt-header">
                <div class="receipt-logo">
                    <img src="assets/img/logo.png" alt="Logo" onerror="this.style.display='none'">
                    <h1 class="receipt-title">GESTION FINANCIÈRE</h1>
                    <p class="text-gray-600">Système de gestion des transactions</p>
                </div>
                <div class="receipt-badge">
                    <p class="text-sm font-semibold">REÇU OFFICIEL</p>
                    <p class="receipt-number">N° TXN-001</p>
                </div>
            </div>

            <!-- Informations principales -->
            <div class="info-grid">
                <!-- Demandeur -->
                <div>
                    <h2 class="text-sm font-semibold text-gray-500 uppercase mb-3">Informations du demandeur</h2>
                    <div class="info-section">
                        <div class="info-row">
                            <span class="info-label">Nom :</span>
                            <span class="text-gray-900">Amara Koné</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Email :</span>
                            <span class="text-gray-900 break-all">amara.kone@entreprise.com</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Téléphone :</span>
                            <span class="text-gray-900">+225 07 00 00 00 00</span>
                        </div>
                    </div>
                </div>

                <!-- Transaction -->
                <div>
                    <h2 class="text-sm font-semibold text-gray-500 uppercase mb-3">Détails de la transaction</h2>
                    <div class="info-section">
                        <div class="info-row">
                            <span class="info-label">Date :</span>
                            <span class="text-gray-900">07/11/2025</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Heure :</span>
                            <span class="text-gray-900">09:30</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Type :</span>
                            <span class="status-badge bg-green-100 text-green-800">ENTRÉE</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Montant et motif -->
            <div class="amount-card">
                <div class="mb-4">
                    <p class="text-sm font-semibold text-gray-700 uppercase mb-2">Montant de la transaction</p>
                    <p class="amount-value">150 000 FCFA</p>
                    <p class="amount-text">Cent cinquante mille francs CFA</p>
                </div>
                <div class="divider" style="border-color: rgba(5, 150, 105, 0.2);"></div>
                <div>
                    <p class="text-sm font-semibold text-gray-700 uppercase mb-2">Motif</p>
                    <p class="text-gray-900">Vente de produits - Commande client #ABC123</p>
                </div>
            </div>

            <!-- Validation -->
            <div class="validation-section">
                <h2 class="text-sm font-semibold text-gray-500 uppercase mb-3">Validation</h2>
                <div class="info-grid" style="margin-bottom: 1rem;">
                    <div>
                        <p class="text-sm text-gray-600">Validé par :</p>
                        <p class="font-semibold text-gray-900">Admin Principal</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600">Date de validation :</p>
                        <p class="font-semibold text-gray-900">07/11/2025 à 10:15</p>
                    </div>
                </div>
                <div class="flex items-center" style="flex-wrap: wrap; gap: 0.5rem;">
                    <svg class="w-6 h-6 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-green-700 font-semibold">Transaction validée et enregistrée</span>
                </div>
            </div>

            <!-- Notes -->
            <div class="divider"></div>
            
            <div class="info-box">
                <p class="text-blue-900">
                    <span class="font-semibold">Note :</span> Ce reçu constitue un justificatif officiel de la transaction. 
                    Il doit être conservé pour toute vérification ultérieure.
                </p>
            </div>

            <!-- Signatures -->
            <div class="signatures-grid">
                <div class="signature-box">
                    <div class="signature-line">
                        <p class="font-semibold text-gray-700">Signature du demandeur</p>
                    </div>
                </div>
                <div class="signature-box">
                    <div class="signature-line">
                        <p class="font-semibold text-gray-700">Cachet et signature de l'administrateur</p>
                    </div>
                </div>
            </div>

            <!-- Pied de page -->
            <div class="receipt-footer">
                <p class="font-semibold">Entreprise XYZ - Système de Gestion Financière</p>
                <p class="mt-1">Abidjan, Côte d'Ivoire | contact@entreprise.com | +225 00 00 00 00 00</p>
                <p class="mt-2 text-xs">Document généré automatiquement le 07/11/2025 à 10:15</p>
            </div>
        </div>
    </div>

    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/responsive.js"></script>
    <script>
        function downloadPDF() {
            // Créer une notification si disponible
            if (typeof notifyInfo === 'function') {
                notifyInfo('Génération du PDF en cours...');
                setTimeout(() => {
                    if (typeof notifySuccess === 'function') {
                        notifySuccess('PDF téléchargé avec succès !');
                    }
                }, 1000);
            } else {
                alert('Export PDF : Cette fonction sera implémentée côté serveur PHP pour générer un vrai PDF');
            }
        }

        // Récupérer l'ID de la transaction depuis l'URL
        const urlParams = new URLSearchParams(window.location.search);
        const txId = urlParams.get('id');
        
        if (txId) {
            console.log('Transaction ID:', txId);
            // Ici, vous feriez un appel PHP pour récupérer les vraies données de la transaction
        }

        // Animation au chargement
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Reçu chargé avec succès');
        });
    </script>
</body>
</html>